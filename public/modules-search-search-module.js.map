{"version":3,"sources":["./src/app/modules/search/search-details-disease/search-details-disease.component.ts","./src/app/modules/search/search-details-disease/search-details-disease.component.html","./src/app/modules/search/modals/buy-supply-modal/buy-supply-modal.component.ts","./src/app/modules/search/modals/buy-supply-modal/buy-supply-modal.component.html","./src/app/modules/search/search.module.ts","./src/app/modules/search/search-routing.module.ts","./src/app/modules/search/search-page/search-page.component.ts","./src/app/modules/search/search-page/search-page.component.html","./src/app/modules/search/search-details-supply/search-details-supply.component.ts","./src/app/modules/search/search-details-supply/search-details-supply.component.html"],"names":[],"mappings":"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","file":"modules-search-search-module.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { BuySupplyModalComponent } from '../modals/buy-supply-modal/buy-supply-modal.component';\r\nimport { ModalService } from 'src/app/services/modal/modal.service';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { AppState } from '@core/store/app-store.state';\r\nimport { AppStoreService } from '@core/store/app-store.service';\r\nimport { SwaService } from '@services/swa/swa.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { observer } from '@core/functions/observer.function';\r\nimport { Product } from '@core/interfaces/product.interface';\r\nimport { ShoppingCart } from '@core/interfaces/order.interface';\r\n\r\n@Component({\r\n  selector: 'app-search-details-disease',\r\n  templateUrl: './search-details-disease.component.html',\r\n  styleUrls: ['./search-details-disease.component.scss'],\r\n})\r\nexport class SearchDetailsDiseaseComponent implements OnInit {\r\n  state$: Observable<AppState> = new Subject<AppState>();\r\n  protected ngUnsubscribe: Subject<void> = new Subject<void>();\r\n\r\n  buySupply: boolean = false;\r\n\r\n  @ViewChild('buySupplyDetail', { static: false })\r\n  buySupplyDetail: BuySupplyModalComponent | undefined;\r\n\r\n  constructor(\r\n    public store: AppStoreService,\r\n    private modalService: ModalService,\r\n    public swa: SwaService,\r\n    private router: Router\r\n  ) {\r\n    this.state$ = this.store.getState();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.store.validateCurrentDisease()) {\r\n      this.router.navigate(['/search']);\r\n    }\r\n  }\r\n\r\n  openBuyDetails() {\r\n    this.buySupply = true;\r\n    this.store\r\n      .currentProductToShopping()\r\n      .subscribe((shoppingProduct) => this.openModal('buySupplyDetail'));\r\n  }\r\n\r\n  addShoppingCart($event: any[]) {\r\n    // let orders: ShoppingCart[] = [];\r\n    // $event.map((item) => {\r\n    //   let order: ShoppingCart = {\r\n    //     id: 0,\r\n    //     userId: 0,\r\n    //     productId: item.productId,\r\n    //     dosis: item.dosis,\r\n    //     supplying: item.supplying,\r\n    //   } as ShoppingCart;\r\n    //   orders.push(order);\r\n    // });\r\n    // this.store\r\n    //   .addCarts({} as ShoppingCart)\r\n    //   .pipe(takeUntil(this.ngUnsubscribe))\r\n    //   .subscribe(\r\n    //     observer(this.swa, () => {\r\n    //       this.closeBuySupplyDeail();\r\n    //       this.swa.confirm(\r\n    //         '¿Desea ver el carrito de compra?',\r\n    //         'Seleccione cancelar para seguir comprando',\r\n    //         (confirm) => {\r\n    //           if (confirm.value) {\r\n    //             this.router.navigate(['/shopping-cart']);\r\n    //           }\r\n    //         }\r\n    //       );\r\n    //     })\r\n    //   );\r\n  }\r\n  closeBuySupplyDeail() {\r\n    this.buySupply = false;\r\n    this.closeModal('buySupplyDetail');\r\n  }\r\n\r\n  openModal(id: string) {\r\n    this.modalService.open(id);\r\n  }\r\n\r\n  closeModal(id: string) {\r\n    this.modalService.close(id);\r\n  }\r\n\r\n  onAddCart() {\r\n    // this.store\r\n    //   .generateOrdersbyDesease()\r\n    //   .pipe(takeUntil(this.ngUnsubscribe))\r\n    //   .subscribe(\r\n    //     observer(this.swa, () => {\r\n    //       this.swa.confirm(\r\n    //         '¿Desea ver el carrito de compra?',\r\n    //         'Seleccione cancelar para seguir comprando',\r\n    //         (confirm) => {\r\n    //           if (confirm.value) {\r\n    //             this.router.navigate(['/shopping-cart']);\r\n    //           }\r\n    //         }\r\n    //       );\r\n    //     })\r\n    //   );\r\n  }\r\n\r\n  viewDetails(product: Product) {\r\n    this.swa.loading();\r\n    this.store\r\n      .selectCurrentProduct(product.id)\r\n      .pipe(takeUntil(this.ngUnsubscribe))\r\n      .subscribe(\r\n        observer(this.swa, () => {\r\n          this.buySupply = true;\r\n          this.openBuyDetails();\r\n          this.swa.close();\r\n        })\r\n      );\r\n  }\r\n}\r\n","<!-- Header -->\r\n<app-header\r\n  [title]=\"(state$ | async).currentDisease.name\"\r\n  [icon]=\"'fa-arrow-left'\"\r\n  [openSidebar]=\"false\"\r\n  [link]=\"'/search'\"\r\n></app-header>\r\n<!--Banner-->\r\n<section id=\"banner\">\r\n  <span class=\"image object\">\r\n    <img src=\"{{ (state$ | async).currentDisease.images[0].url }}\" alt=\"\" />\r\n  </span>\r\n  <div class=\"content\">\r\n    <p>\r\n      {{ (state$ | async).currentDisease.description }}\r\n    </p>\r\n  </div>\r\n</section>\r\n<!-- Content -->\r\n<section>\r\n  <header class=\"major\">\r\n    <h2>Medicamento sugerido</h2>\r\n  </header>\r\n  <div class=\"posts\">\r\n    <article *ngFor=\"let item of (state$ | async).currentDisease.productParts\">\r\n      <h3>{{ item.name }}</h3>\r\n      <a class=\"image\"\r\n        ><img src=\"{{ (state$ | async).currentDisease.image }}\"\r\n      /></a>\r\n      <p>\r\n        {{ (state$ | async).currentDisease.description }}\r\n      </p>\r\n      <ul class=\"actions\">\r\n        <li>\r\n          <a\r\n            (click)=\"viewDetails(item)\"\r\n            type=\"button\"\r\n            class=\"button primary icon solid fa-shopping-cart\"\r\n          ></a>\r\n        </li>\r\n      </ul>\r\n    </article>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6 offset-3\">\r\n      <ul class=\"actions fit ml-0 mb-0\">\r\n        <li>\r\n          <a\r\n            (click)=\"onAddCart()\"\r\n            type=\"button\"\r\n            class=\"button primary icon solid fa-shopping-cart\"\r\n            >Solicitar todo</a\r\n          >\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</section>\r\n<app-modal id=\"buySupplyDetail\" size=\"full\">\r\n  <ng-container *ngIf=\"buySupply == true\">\r\n    <app-buy-supply-modal\r\n      #buySupplyDetail\r\n      [shoppingProduct]=\"(state$ | async).shoppingProduct\"\r\n      (updateShoppingProduct)=\"updateShoppingProduct($event)\"\r\n      (submitForm)=\"onAddCart($event)\"\r\n      (closeForm)=\"closeBuySupplyDeail()\"\r\n    >\r\n    </app-buy-supply-modal>\r\n  </ng-container>\r\n</app-modal>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n} from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Product } from '@core/interfaces/product.interface';\r\nimport { ShoppingProduct } from '@core/interfaces/shopping-product.interface';\r\n\r\n@Component({\r\n  selector: 'app-buy-supply-modal',\r\n  templateUrl: './buy-supply-modal.component.html',\r\n  styleUrls: ['./buy-supply-modal.component.scss'],\r\n})\r\nexport class BuySupplyModalComponent implements OnInit, OnChanges {\r\n  @Input() shoppingProduct: ShoppingProduct = {} as ShoppingProduct;\r\n  @Input() disease: Product = {} as Product;\r\n  @Output() submitForm = new EventEmitter();\r\n  @Output() closeForm = new EventEmitter();\r\n  @Output() updateShoppingProduct = new EventEmitter();\r\n\r\n  readonly form: FormGroup = new FormGroup({});\r\n  private inputDose: FormControl = new FormControl();\r\n  private inputPieces: FormControl = new FormControl();\r\n  private inputPeriod: FormControl = new FormControl();\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.initForm();\r\n  }\r\n\r\n  initForm() {\r\n    this.inputDose = new FormControl(this.shoppingProduct.dose, [\r\n      Validators.required,\r\n    ]);\r\n    this.inputPieces = new FormControl(this.shoppingProduct.pieces, [\r\n      Validators.required,\r\n    ]);\r\n    this.inputPeriod = new FormControl(this.shoppingProduct.period, [\r\n      Validators.required,\r\n    ]);\r\n    this.addControlls();\r\n  }\r\n\r\n  addControlls() {\r\n    Object.keys(this.form.controls).forEach((control) => {\r\n      this.form.removeControl(control);\r\n    });\r\n    this.form.addControl('inputDose', this.inputDose);\r\n    this.form.addControl('inputPieces', this.inputPieces);\r\n    this.form.addControl('inputPeriod', this.inputPeriod);\r\n  }\r\n\r\n  addDose() {\r\n    this.updateShoppingProduct.emit({\r\n      ...this.shoppingProduct,\r\n      dose: this.shoppingProduct.dose + 1,\r\n    });\r\n  }\r\n\r\n  resDose() {\r\n    if (this.shoppingProduct.dose > 0) {\r\n      this.updateShoppingProduct.emit({\r\n        ...this.shoppingProduct,\r\n        dose: this.shoppingProduct.dose - 1,\r\n      });\r\n    }\r\n  }\r\n\r\n  addPiece() {\r\n    this.updateShoppingProduct.emit({\r\n      ...this.shoppingProduct,\r\n      pieces: this.shoppingProduct.pieces + 1,\r\n    });\r\n  }\r\n\r\n  resPiece() {\r\n    if (this.shoppingProduct.pieces > 0) {\r\n      this.updateShoppingProduct.emit({\r\n        ...this.shoppingProduct,\r\n        pieces: this.shoppingProduct.pieces - 1,\r\n      });\r\n    }\r\n  }\r\n\r\n  getBoxSuggestion() {\r\n    return Math.ceil(\r\n      this.shoppingProduct.dose / this.shoppingProduct.product.presentation\r\n    );\r\n  }\r\n\r\n  changePeriod(period: number) {\r\n    this.updateShoppingProduct.emit({\r\n      ...this.shoppingProduct,\r\n      period: String(period),\r\n    });\r\n  }\r\n\r\n  onAddCart() {\r\n    this.submitForm.emit(this.shoppingProduct);\r\n  }\r\n}\r\n","<form [formGroup]=\"form\" novalidate autocomplete=\"off\">\n  <section>\n    <header class=\"main\"></header>\n    <h2>Abastecimiento</h2>\n    <div class=\"row\">\n      <div class=\"col-8\">\n        <h4>{{ shoppingProduct.product.name }}</h4>\n      </div>\n      <div class=\"col-4 text-end\">\n        <h3>${{ shoppingProduct.product.price }}</h3>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-6\">\n        <h4>Frecuencia de entrega</h4>\n      </div>\n      <div class=\"col-3\">\n        <input\n          type=\"radio\"\n          id=\"demo-priority-low\"\n          name=\"inputPeriod\"\n          formControlName=\"inputPeriod\"\n          value=\"15\"\n          (click)=\"changePeriod(15)\"\n        />\n        <label for=\"demo-priority-low\">15 días</label>\n      </div>\n      <div class=\"col-3\">\n        <input\n          type=\"radio\"\n          id=\"demo-priority-normal\"\n          name=\"inputPeriod\"\n          formControlName=\"inputPeriod\"\n          value=\"30\"\n          (click)=\"changePeriod(30)\"\n        />\n        <label for=\"demo-priority-normal\">30 días</label>\n      </div>\n    </div>\n    <div class=\"row mb-1\">\n      <div class=\"col-7\">\n        <h4>Dosis Diaria</h4>\n      </div>\n      <div class=\"col-5\">\n        <button\n          type=\"button\"\n          class=\"button solid icon circle-icon fa-minus-circle\"\n          (click)=\"resDose()\"\n        ></button>\n        <input\n          type=\"text\"\n          class=\"form-control mb-0 inline text-center\"\n          style=\"display: inline; width: 40%\"\n          formControlName=\"inputDose\"\n          id=\"inputDose\"\n          name=\"inputDose\"\n        />\n        <button\n          type=\"button\"\n          class=\"button solid icon circle-icon fa-plus-circle\"\n          (click)=\"addDose()\"\n        ></button>\n      </div>\n    </div>\n    <div class=\"row mb-1\">\n      <div class=\"col-7\">\n        <h4>Cajas</h4>\n        <p>Cajas sugeridas {{ shoppingProduct.suggestedPieces }}</p>\n      </div>\n      <div class=\"col-5\">\n        <button\n          type=\"button\"\n          class=\"button solid icon circle-icon fa-minus-circle\"\n          (click)=\"resPiece()\"\n        ></button>\n        <input\n          type=\"text\"\n          class=\"form-control mb-0 inline text-center\"\n          style=\"display: inline; width: 40%\"\n          formControlName=\"inputPieces\"\n          id=\"inputPieces\"\n          name=\"inputPieces\"\n        />\n        <button\n          type=\"button\"\n          class=\"button solid icon circle-icon fa-plus-circle\"\n          (click)=\"addPiece()\"\n        ></button>\n        <p\n          *ngIf=\"\n            shoppingProduct.dose > 0 &&\n            shoppingProduct.suggestedPieces > shoppingProduct.pieces\n          \"\n        >\n          Se necesitan mas cajas para cubrir el periodo\n        </p>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-3 offset-6\">\n        <h4>Subtotal</h4>\n      </div>\n      <div class=\"col-3 text-end\">\n        <h4>${{ shoppingProduct.subtotal }}</h4>\n      </div>\n      <div class=\"col-3 offset-6\">\n        <h4>\n          Descuento\n          <ng-container *ngIf=\"shoppingProduct.product.sales.length > 0\"\n            >({{ shoppingProduct.product.sales[0].percent }}%)</ng-container\n          >\n        </h4>\n      </div>\n      <div class=\"col-3 text-end\">\n        <h4>${{ shoppingProduct.discount }}</h4>\n      </div>\n      <div class=\"col-3 offset-6\">\n        <h4>Total</h4>\n      </div>\n      <div class=\"col-3 text-end\">\n        <h4>${{ shoppingProduct.total }}</h4>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-6 offset-3\">\n        <ul class=\"actions fit ml-0 mb-0\">\n          <li>\n            <a\n              class=\"button primary icon solid fa-shopping-cart\"\n              type=\"button\"\n              (click)=\"onAddCart()\"\n              >Agregar al carrito</a\n            >\n          </li>\n        </ul>\n      </div>\n    </div>\n  </section>\n</form>\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { SearchRoutingModule } from './search-routing.module';\r\nimport { SearchPageComponent } from './search-page/search-page.component';\r\nimport { SearchDetailsDiseaseComponent } from './search-details-disease/search-details-disease.component';\r\nimport { SearchDetailsSupplyComponent } from './search-details-supply/search-details-supply.component';\r\nimport { BuySupplyModalComponent } from './modals/buy-supply-modal/buy-supply-modal.component';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchPageComponent,\r\n    SearchDetailsDiseaseComponent,\r\n    SearchDetailsSupplyComponent,\r\n    BuySupplyModalComponent,\r\n  ],\r\n  imports: [CommonModule, SearchRoutingModule, SharedModule],\r\n})\r\nexport class SearchModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SearchPageComponent } from './search-page/search-page.component';\r\nimport { SearchDetailsDiseaseComponent } from './search-details-disease/search-details-disease.component';\r\nimport { SearchDetailsSupplyComponent } from './search-details-supply/search-details-supply.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: SearchPageComponent },\r\n  {\r\n    path: 'disease',\r\n    component: SearchDetailsDiseaseComponent,\r\n  },\r\n  {\r\n    path: 'supply',\r\n    component: SearchDetailsSupplyComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SearchRoutingModule {}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Route, Router } from '@angular/router';\r\nimport { observer } from '@core/functions/observer.function';\r\nimport { Product } from '@core/interfaces/product.interface';\r\nimport { AppStoreService } from '@core/store/app-store.service';\r\nimport { AppState } from '@core/store/app-store.state';\r\nimport { SwaService } from '@services/swa/swa.service';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-search-page',\r\n  templateUrl: './search-page.component.html',\r\n  styleUrls: ['./search-page.component.scss'],\r\n})\r\nexport class SearchPageComponent implements OnInit, OnDestroy {\r\n  state$: Observable<AppState> = new Subject<AppState>();\r\n  protected ngUnsubscribe: Subject<void> = new Subject<void>();\r\n  readonly form: FormGroup = new FormGroup({});\r\n  private inputSearch: FormControl = new FormControl();\r\n\r\n  constructor(\r\n    public store: AppStoreService,\r\n    public swa: SwaService,\r\n    private router: Router\r\n  ) {\r\n    this.state$ = this.store.getState();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    this.swa.loading();\r\n    this.store\r\n      .loadProducts()\r\n      .pipe(takeUntil(this.ngUnsubscribe))\r\n      .subscribe(observer(this.swa));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.ngUnsubscribe.next();\r\n    this.ngUnsubscribe.complete();\r\n  }\r\n\r\n  initForm() {\r\n    this.inputSearch = new FormControl(null, [Validators.required]);\r\n    this.loadControls();\r\n  }\r\n\r\n  loadControls() {\r\n    Object.keys(this.form.controls).forEach((control) => {\r\n      this.form.removeControl(control);\r\n    });\r\n    this.form.addControl('inputSearch', this.inputSearch);\r\n  }\r\n\r\n  doSearch() {\r\n    this.swa.loading();\r\n    let filter: string = this.form.get('inputSearch')?.value;\r\n    this.store\r\n      .updateProductFilters(filter)\r\n      .pipe(takeUntil(this.ngUnsubscribe))\r\n      .subscribe(observer(this.swa));\r\n  }\r\n\r\n  doClean() {\r\n    this.swa.loading();\r\n    this.form.get('inputSearch')?.setValue(null);\r\n    this.store\r\n      .updateProductFilters()\r\n      .pipe(takeUntil(this.ngUnsubscribe))\r\n      .subscribe(observer(this.swa));\r\n  }\r\n\r\n  viewDetails(product: Product) {\r\n    this.swa.loading();\r\n    this.store\r\n      .selectCurrentProduct(product.id)\r\n      .pipe(takeUntil(this.ngUnsubscribe))\r\n      .subscribe(\r\n        observer(this.swa, () => {\r\n          this.swa.close();\r\n          if (product.productType == 2) {\r\n            this.router.navigateByUrl('/search/disease');\r\n          } else {\r\n            this.router.navigateByUrl('/search/supply');\r\n          }\r\n        })\r\n      );\r\n  }\r\n}\r\n","<!-- Header -->\r\n<app-header [title]=\"'Busqueda'\"></app-header>\r\n<!--Banner-->\r\n<form [formGroup]=\"form\" (ngSubmit)=\"doSearch()\" class=\"mb-0\">\r\n  <section id=\"search\" class=\"normal-padding\">\r\n    <input\r\n      type=\"text\"\r\n      name=\"query\"\r\n      id=\"query\"\r\n      formControlName=\"inputSearch\"\r\n      placeholder=\"Busqueda de insumos y enfermedades\"\r\n      class=\"mb-0\"\r\n    />\r\n    <div class=\"col-6\">\r\n      <ul class=\"actions ml-0 mb-0 mt-3\">\r\n        <li>\r\n          <button class=\"button\" type=\"button\" (click)=\"doClean()\">\r\n            limpiar\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button class=\"button primary icon solid fa-search\" type=\"submit\">\r\n            Buscar\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n</form>\r\n<!-- Section -->\r\n<section>\r\n  <div class=\"products\">\r\n    <article *ngFor=\"let product of (state$ | async).products\">\r\n      <a href=\"#\" class=\"image\"\r\n        ><img src=\"{{ product.images[0].url }}\" alt=\"\"\r\n      /></a>\r\n      <h3>{{ product.name }}</h3>\r\n      <p>\r\n        {{ product.description }}\r\n      </p>\r\n      <ul class=\"actions\">\r\n        <li>\r\n          <button type=\"button\" (click)=\"viewDetails(product)\" class=\"button\">\r\n            Ver\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </article>\r\n  </div>\r\n</section>\r\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\n\nimport { BuySupplyModalComponent } from '../modals/buy-supply-modal/buy-supply-modal.component';\nimport { ModalService } from 'src/app/services/modal/modal.service';\nimport { Observable, Subject } from 'rxjs';\nimport { AppState } from '@core/store/app-store.state';\nimport { AppStoreService } from '@core/store/app-store.service';\nimport { SwaService } from '@services/swa/swa.service';\nimport { ShoppingCart } from '@core/interfaces/order.interface';\nimport { observer } from '@core/functions/observer.function';\nimport { takeUntil } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { ShoppingProduct } from '@core/interfaces/shopping-product.interface';\nimport { SessionService } from '@services/session/session.service';\n\n@Component({\n  selector: 'app-search-details-supply',\n  templateUrl: './search-details-supply.component.html',\n  styleUrls: ['./search-details-supply.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SearchDetailsSupplyComponent implements OnInit {\n  state$: Observable<AppState> = new Subject<AppState>();\n  protected ngUnsubscribe: Subject<void> = new Subject<void>();\n\n  buySupply: boolean = false;\n\n  @ViewChild('buySupplyDetail', { static: false })\n  buySupplyDetail: BuySupplyModalComponent | undefined;\n\n  constructor(\n    public store: AppStoreService,\n    private modalService: ModalService,\n    public session: SessionService,\n    public swa: SwaService,\n    private router: Router,\n    private ref: ChangeDetectorRef\n  ) {\n    this.state$ = this.store.getState();\n  }\n\n  ngOnInit(): void {\n    if (!this.store.validateCurrentProduct()) {\n      this.router.navigate(['/search']);\n    }\n  }\n\n  openBuyDetails() {\n    this.store\n      .currentProductToShopping()\n      .subscribe((shoppingProduct) => this.openModal('buySupplyDetail'));\n  }\n\n  updateShoppingProduct(data: ShoppingProduct) {\n    this.store\n      .updateShoppingProduct(data)\n      .subscribe(() => this.ref.detectChanges());\n  }\n\n  addShoppingCart(data: ShoppingProduct) {\n    this.store\n      .addCarts(data)\n      .pipe(takeUntil(this.ngUnsubscribe))\n      .subscribe(\n        observer(this.swa, () => {\n          this.closeBuySupplyDeail();\n          this.swa.confirm(\n            '¿Desea ver el carrito de compra?',\n            'Seleccione cancelar para seguir comprando',\n            (confirm) => {\n              if (confirm.value) {\n                this.router.navigate(['/shopping-cart']);\n              }\n            }\n          );\n        })\n      );\n  }\n  closeBuySupplyDeail() {\n    this.buySupply = false;\n    this.closeModal('buySupplyDetail');\n  }\n\n  openModal(id: string) {\n    this.modalService.open(id);\n  }\n\n  closeModal(id: string) {\n    this.modalService.close(id);\n  }\n}\n","<!-- Header -->\n<app-header\n  [title]=\"(state$ | async).currentProduct.name\"\n  [icon]=\"'fa-arrow-left'\"\n  [openSidebar]=\"false\"\n  [link]=\"'/search'\"\n></app-header>\n<!--Banner-->\n<section id=\"banner\">\n  <div class=\"content\">\n    <p>\n      {{ (state$ | async).currentProduct.description }}\n    </p>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <h4>Ayuda en padecimientos</h4>\n        <ul>\n          <li *ngFor=\"let ailment of (state$ | async).currentProduct.ailments\">\n            {{ ailment.name }}\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-9\">\n        <h3>Precio</h3>\n      </div>\n      <div class=\"col-3\">\n        <h3>${{ (state$ | async).currentProduct.price }}</h3>\n        <p></p>\n      </div>\n    </div>\n    <ul class=\"actions fit ml-0 mb-0\" *ngIf=\"session.isAuthenticated()\">\n      <li>\n        <a\n          class=\"button primary icon solid fa-shopping-cart\"\n          type=\"button\"\n          (click)=\"openBuyDetails()\"\n          >Agregar al carrito</a\n        >\n      </li>\n    </ul>\n  </div>\n  <span class=\"image object\">\n    <img\n      *ngIf=\"(state$ | async).currentProduct.images.length > 0\"\n      src=\"{{ (state$ | async).currentProduct.images[0].url }}\"\n      alt=\"\"\n    />\n  </span>\n</section>\n<app-modal id=\"buySupplyDetail\" size=\"full\">\n  <ng-container>\n    <app-buy-supply-modal\n      #buySupplyDetail\n      [shoppingProduct]=\"(state$ | async).shoppingProduct\"\n      (updateShoppingProduct)=\"updateShoppingProduct($event)\"\n      (submitForm)=\"addShoppingCart($event)\"\n      (closeForm)=\"closeBuySupplyDeail()\"\n    >\n    </app-buy-supply-modal>\n  </ng-container>\n</app-modal>\n"],"sourceRoot":"webpack:///"}